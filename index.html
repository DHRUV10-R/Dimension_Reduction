<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dimensionality Reduction Explorer</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; }
    .pill {
      transition: all 0.2s; border-radius: 9999px; padding: 0.5rem 1.25rem; font-weight: 500;
      background: linear-gradient(90deg, #14b8a6 0%, #34d399 100%);
      color: white; cursor: pointer; border: none; outline: none;
    }
    .pill:not(.active):hover { background: linear-gradient(90deg, #2dd4bf 0%, #6ee7b7 100%); transform: scale(1.05);}
    .pill.active { background: linear-gradient(90deg, #0d9488 0%, #059669 100%); color: #fff; transform: scale(1.08);}
    header { font-weight: 700; }
  </style>
</head>
<body class="bg-stone-50 text-stone-800">

  <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm p-4 text-center text-xl text-teal-700">Dimensionality Reduction Explorer</header>

  <main class="max-w-5xl mx-auto px-4 py-12">
    <!-- Pills Navigation -->
    <div id="case-study-nav" class="flex flex-wrap justify-center gap-3 mb-8"></div>

    <!-- Case Study Content -->
    <div id="case-study-content" class="bg-white/80 backdrop-blur-lg p-6 rounded-2xl shadow-lg min-h-[450px]"></div>
  </main>

<script>
const caseStudies = ['PCA', 't-SNE', 'Chi-Square', 'Naive Bayes'];
const nav = document.getElementById('case-study-nav');

// Generate random clusters for demonstration
function generate3DData() {
  const clusters = [];
  for (let c=0;c<3;c++){
    for (let i=0;i<15;i++){
      clusters.push({
        x: Math.random()*2+ c*3,
        y: Math.random()*2+ c*3,
        z: Math.random()*2+ c*3
      });
    }
  }
  return {
    x: clusters.map(p=>p.x),
    y: clusters.map(p=>p.y),
    z: clusters.map(p=>p.z),
    mode: 'markers',
    type: 'scatter3d',
    marker: { size: 5, color: 'teal' }
  };
}

function generate2DData(study){
  // Apply simple simulated reduction / transformation
  const data3D = generate3DData();
  let x=[],y=[];
  data3D.x.forEach((v,i)=>{
    if(study==='PCA') { x.push(v); y.push(data3D.y[i]); }
    else if(study==='t-SNE') { x.push(data3D.x[i]+Math.random()); y.push(data3D.y[i]+Math.random()); }
    else if(study==='Chi-Square') { x.push(v*0.6); y.push(data3D.z[i]*0.6); }
    else if(study==='Naive Bayes') { x.push(data3D.y[i]+Math.random()*0.8); y.push(data3D.z[i]+Math.random()*0.8);}
  });
  return {
    x:x, y:y, mode:'markers', type:'scatter', marker:{size:8,color:'green'}
  };
}

function renderCaseStudy(study){
  const content = document.getElementById('case-study-content');
  content.innerHTML = `
    <h3 class="text-2xl font-bold text-teal-700 mb-4">${study} Case Study</h3>
    <p class="text-stone-700 mb-4">Explore how ${study} transforms or analyzes high-dimensional data.</p>
    <div id="plot" class="w-full h-[400px]"></div>
    <div class="mt-4 flex gap-3">
      <button id="beforeBtn" class="pill active">Before</button>
      <button id="afterBtn" class="pill">After</button>
    </div>
  `;

  const beforeData = generate3DData();
  const afterData = generate2DData(study);

  Plotly.newPlot('plot', [beforeData], {title: `${study} - Before`});

  document.getElementById('beforeBtn').onclick = ()=>{
    document.getElementById('beforeBtn').classList.add('active');
    document.getElementById('afterBtn').classList.remove('active');
    Plotly.react('plot', [beforeData], {title:`${study} - Before`},{transition:{duration:700}});
  };
  document.getElementById('afterBtn').onclick = ()=>{
    document.getElementById('afterBtn').classList.add('active');
    document.getElementById('beforeBtn').classList.remove('active');
    Plotly.react('plot', [afterData], {title:`${study} - After`},{transition:{duration:700}});
  };
}

// Create pills
caseStudies.forEach((study, idx)=>{
  const btn=document.createElement('button');
  btn.className='pill'+(idx===0?' active':'');
  btn.innerText=study;
  btn.onclick=()=>{
    document.querySelectorAll('.pill').forEach(p=>p.classList.remove('active'));
    btn.classList.add('active');
    renderCaseStudy(study);
  };
  nav.appendChild(btn);
});

// Initial render
renderCaseStudy(caseStudies[0]);
</script>

</body>
</html>