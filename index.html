<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dimensionality Reduction Explorer — Enhanced</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Plotly CDN -->
  <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"/>
  <style>
    :root{
      --teal-600: #0d9488;
      --teal-400: #34d399;
      --muted: #6b7280;
      --bg: #f8fafc;
    }
    body { font-family: 'Inter', sans-serif; background: var(--bg); color: #0f172a; }
    header.site-header {
      background: linear-gradient(90deg, rgba(13,148,136,0.06), rgba(52,211,153,0.03));
      backdrop-filter: blur(6px);
      border-bottom: 1px solid rgba(15,23,42,0.04);
    }
    .pill {
      display:inline-flex; align-items:center; gap:0.5rem;
      border-radius:9999px; padding:0.5rem 1rem; font-weight:600; font-size:0.95rem;
      background: linear-gradient(90deg,#14b8a6,#34d399); color:white; box-shadow:0 6px 18px rgba(16,185,129,0.08);
      border: none; cursor:pointer; transform-origin:center center; transition:all .18s ease;
    }
    .pill:hover { transform: translateY(-4px) scale(1.03); }
    .pill.secondary {
      background: white; color: var(--teal-600); box-shadow: 0 6px 18px rgba(15,23,42,0.04); border:1px solid rgba(15,23,42,0.04);
    }
    .pill.active { background: linear-gradient(90deg,var(--teal-600),#059669); color: #fff; transform: scale(1.05); }
    .card { background:white; border-radius:16px; padding:1rem; box-shadow: 0 10px 30px rgba(2,6,23,0.06); }
    .fade-in { animation: fadeIn .42s ease both; }
    @keyframes fadeIn { from {opacity:0; transform: translateY(6px);} to {opacity:1; transform:none;} }
    /* small helpers */
    .muted { color:var(--muted); }
    .legend-dot { width:10px; height:10px; border-radius:999px; display:inline-block; margin-right:8px; vertical-align:middle; }
    footer { color:var(--muted); font-size:0.9rem; padding:1.25rem 0; text-align:center; }
    /* responsive plot container fix */
    #case-study-content { min-height:520px; }
    @media (max-width: 768px) {
      #case-study-content { min-height:480px; padding:1rem !important; }
      .pill { padding:0.45rem .85rem; font-size:0.9rem }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="site-header sticky top-0 z-50">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between">
      <div class="flex items-center gap-4">
        <div class="rounded-full bg-gradient-to-r from-teal-600 to-emerald-400 p-2 shadow-sm">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M3 12h3l3 8 4-16 3 8h3" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
        <div>
          <div class="text-lg font-bold text-stone-900">Dimensionality Reduction Explorer</div>
          <div class="text-xs muted">Interactive teaching demo — PCA, t-SNE, Chi-Square, Naive Bayes</div>
        </div>
      </div>
      <div class="hidden md:flex items-center gap-3">
        <button class="pill secondary" id="download-data">Download CSV</button>
        <a class="pill" href="#case-study-content">Start Demo</a>
      </div>
      <div class="md:hidden">
        <button id="mobile-open" class="pill secondary">Menu</button>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
    <section class="grid grid-cols-1 lg:grid-cols-4 gap-6">
      <!-- Left column: controls -->
      <aside class="lg:col-span-1 fade-in">
        <div class="card">
          <h3 class="text-lg font-semibold mb-2">Case Studies</h3>
          <p class="text-sm muted mb-4">Choose a technique to see its dataset and the result after transformation/classification.</p>
          <div id="case-study-nav" class="flex flex-wrap gap-2"></div>

          <div class="divider my-4"></div>

          <div class="mt-3">
            <h4 class="text-sm font-semibold">Active Controls</h4>
            <div class="mt-2 flex gap-2">
              <button id="btn-before" class="pill secondary">Before</button>
              <button id="btn-after" class="pill">After</button>
            </div>
            <div class="mt-3 text-sm muted">Tip: Use "After" to show the reduced space or classifier output.</div>
          </div>

          <div class="mt-6">
            <h4 class="text-sm font-semibold mb-1">Legend</h4>
            <div class="text-sm muted">
              <div class="flex items-center gap-2"><span class="legend-dot" style="background:#06b6d4"></span> Original data</div>
              <div class="flex items-center gap-2 mt-1"><span class="legend-dot" style="background:#10b981"></span> Reduced / Result</div>
            </div>
          </div>
        </div>
      </aside>

      <!-- Right column: main content -->
      <section class="lg:col-span-3 fade-in">
        <div id="case-study-content" class="card p-6">
          <!-- Rendered dynamically -->
        </div>
      </section>
    </section>
  </main>

  <footer>
    © <span id="year"></span> Dimensionality Reduction Explorer — Classroom Demo
  </footer>

<script>
/* (JavaScript remains unchanged) */
</script>
</body>
</html>
